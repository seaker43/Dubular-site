@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Vars ===== */
:root { --header-h: 88px; } /* keep in sync with Header.js */

/* ===== Base ===== */
html, body { @apply bg-black text-white antialiased min-h-screen; }
a { @apply text-cyan-400 hover:underline; }

/* Remove default top margins that can create gaps */
h1,h2,h3,h4,h5,h6 { margin-top: 0; }

/* ===== Header (fixed) ===== */
header {
  @apply fixed top-0 left-0 right-0 z-50 bg-black/95 backdrop-blur flex items-center justify-center;
  height: var(--header-h);
  border: none !important;
}

/* ===== Main & common wrappers: push content below header exactly ===== */
main,
.page,
.content,
.wrap {
  padding-top: var(--header-h); /* exactly header height */
  @apply px-2;                  /* side padding */
}

/* Kill extra top-margin on first child in common containers */
main > :first-child,
.page > :first-child,
.content > :first-child,
.wrap > :first-child {
  margin-top: 0 !important;
}

/* ===== Full-bleed helper (edge-to-edge) ===== */
.full-bleed {
  width: 100vw;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
}

/* ===== Featured (Loop) Hero ===== */
.featured-hero {
  @apply relative overflow-hidden rounded-2xl ring-1 ring-white/10;
  min-height: clamp(220px, 44vh, 520px);
  transform: translateZ(0);
  margin-top: 0 !important;               /* force snug */
}
.featured-glow-pink {
  box-shadow:
    0 0 10px rgba(236,72,153,.55),
    0 0 24px rgba(236,72,153,.45),
    0 0 44px rgba(236,72,153,.35);
}
.featured-glow-blue {
  box-shadow:
    0 0 10px rgba(56,189,248,.55),
    0 0 24px rgba(56,189,248,.45),
    0 0 44px rgba(56,189,248,.35);
}

/* If a page wraps the hero/search in a section/div and adds spacing, override it */
.snug-under-header { margin-top: 0 !important; }

/* ===== Search Bar (find page) ===== */
.search-wrap { width: 100%; margin-top: 0 !important; }
.search-bar {
  @apply w-full flex items-center gap-2 bg-neutral-900/70 rounded-xl ring-1 ring-white/10 p-3;
}
.search-bar input {
  @apply flex-1 bg-transparent outline-none text-white placeholder:text-neutral-400;
}
.search-bar button {
  @apply shrink-0 px-3 py-1 rounded-lg bg-black/70 text-white hover:bg-black/80 transition;
}

/* ===== Horizontal Thumbnail Row ===== */
.thumb-row{
  @apply relative flex gap-4 overflow-x-auto py-2;
  padding-bottom: 10px;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-x: contain;
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.thumb-row::-webkit-scrollbar{ display: none; }

.thumb-card{
  @apply relative flex-shrink-0 rounded-2xl bg-neutral-900/50 ring-1 ring-white/5;
  width: clamp(180px, 58vw, 280px);
  height: clamp(120px, 32vw, 160px);
  scroll-snap-align: center;
  backface-visibility: hidden;
  transform: translateZ(0);
  transition: transform 160ms ease, box-shadow 160ms ease;
}
@media (min-width: 768px){
  .thumb-card{
    width: clamp(220px, 42vw, 300px);
    height: clamp(130px, 24vw, 180px);
  }
}
.thumb-card:active { transform: scale(0.98); }
@media (hover:hover){ .thumb-card:hover { transform: translateY(-2px) scale(1.01); } }

.thumb-img{ @apply w-full h-full object-cover rounded-2xl block; }
.thumb-title{ @apply absolute left-3 bottom-2 text-white/90 text-base font-semibold drop-shadow; }
.live-badge{
  @apply absolute top-2 left-2 text-xs font-bold px-2 py-1 rounded-md;
  background: rgba(239,68,68,.95);
  color: black;
  box-shadow:
    0 0 8px rgba(239,68,68,.85),
    0 0 18px rgba(239,68,68,.55);
}

/* ===== Neon glows (general) ===== */
.glow-cyan{
  box-shadow:
    0 0 10px rgba(34,211,238,.35),
    0 0 22px rgba(34,211,238,.25),
    inset 0 0 0 1px rgba(255,255,255,.05);
}
.glow-red{
  box-shadow:
    0 0 10px rgba(239,68,68,.55),
    0 0 22px rgba(239,68,68,.45),
    inset 0 0 0 1px rgba(255,255,255,.05);
}
.glow-dual{
  box-shadow:
    0 0 14px rgba(236,72,153,.45),
    0 0 28px rgba(56,189,248,.35),
    inset 0 0 0 1px rgba(255,255,255,.06);
}

/* ===== Bottom Bar ===== */
.navbar{
  @apply fixed bottom-0 left-0 right-0 z-50 bg-neutral-950/95 backdrop-blur border-t border-neutral-800 py-2 flex justify-around;
}
.navbar-item{ @apply flex flex-col items-center text-xs text-neutral-400 transition-colors; }
.navbar-item.active{ @apply text-white; }
.navbar-item.active .nav-icon{
  filter: drop-shadow(0 0 6px rgba(168,85,247,.85))
          drop-shadow(0 0 14px rgba(56,189,248,.55));
}

/* ===== Vertical Top 5 grid ===== */
.vthumb-grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 1rem;
}
@media (max-width: 640px){
  .vthumb-grid{ grid-template-columns: repeat(3, 1fr); gap: 0.75rem; }
}
.vthumb-card{
  position: relative;
  border-radius: 1rem;
  overflow: hidden;
  background: rgba(23,23,23,.6);
  ring: 1px solid rgba(255,255,255,.06);
  aspect-ratio: 9/16;
  transform: translateZ(0);
  transition: transform 160ms ease, box-shadow 160ms ease;
}
.vthumb-card:active{ transform: scale(0.985); }
@media (hover:hover){ .vthumb-card:hover{ transform: translateY(-2px) scale(1.01); } }
.vthumb-img{ width:100%; height:100%; object-fit:cover; object-position:center; display:block; }
.vthumb-gradient{
  position:absolute; inset:0; pointer-events:none;
  background: linear-gradient(to top, rgba(0,0,0,.65), rgba(0,0,0,0) 50%);
}
.vthumb-title{
  position:absolute; left:.75rem; right:.75rem; bottom:.75rem;
  font-weight:800; font-size:1.1rem; text-shadow:0 1px 2px rgba(0,0,0,.7);
}

/* ===== Favorites ===== */
.favs-strip{ @apply px-2 mt-4; }
.favs-row{
  @apply flex gap-3 overflow-x-auto py-2;
  scroll-snap-type: x proximity;
  overscroll-behavior-x: contain;
}
.fav-card{
  @apply relative flex-shrink-0 rounded-xl bg-neutral-900/50 ring-1 ring-white/5;
  width:110px; height:110px; scroll-snap-align:start; transform:translateZ(0);
}
.fav-card img{ @apply w-full h-full object-cover rounded-xl; }
