@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Base ===== */
html, body { @apply bg-neutral-950 text-white antialiased; height: auto; }
body { @apply min-h-screen overflow-x-hidden; }
a { @apply text-cyan-400 hover:underline; }
#__next { @apply min-h-screen flex flex-col; }

/* ===== Header (fixed, no border) ===== */
header {
  @apply fixed top-0 left-0 right-0 z-50
         bg-black/95 backdrop-blur
         h-20 flex items-center justify-center;
  border-bottom: none;
}

/* ===== Main content spacing ===== */
main { @apply flex-1 pt-20 pb-24; }

/* ===== Bottom Bar (fixed, no border) ===== */
.navbar {
  @apply fixed bottom-0 left-0 right-0 z-50
         w-full flex justify-around items-center
         bg-neutral-950/95 backdrop-blur py-2;
  height: 64px;
}
.navbar-item { @apply flex flex-col items-center text-xs text-neutral-400 gap-1 transition; }
.navbar-item.active {
  @apply text-white;
  text-shadow:
    0 0 6px rgba(236,72,153,0.8),
    0 0 12px rgba(59,130,246,0.7),
    0 0 20px rgba(59,130,246,0.5);
}
.navbar-item.active svg {
  filter: drop-shadow(0 0 6px rgba(236,72,153,0.8))
          drop-shadow(0 0 12px rgba(59,130,246,0.7));
}

/* ===== Scroll rails (smooth + stable) ===== */
.scroll-rail {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-x: contain;
  scroll-snap-type: x mandatory;
  scroll-padding-left: 1rem;
  contain: layout paint style;        /* reduce reflow scope */
  backface-visibility: hidden;
  will-change: scroll-position;
}
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

/* ===== Thumbnail cards (separated + steady) ===== */
.thumbnail {
  @apply relative overflow-hidden rounded-xl
         bg-neutral-900/70 transition-transform duration-200;
  outline: 1px solid rgba(255,255,255,0.08);
  box-shadow:
    0 2px 10px rgba(0,0,0,0.45),
    0 0 0 1px rgba(255,255,255,0.04) inset;
}
.thumbnail:hover { transform: translate3d(0,-2px,0); }
.thumbnail:active { transform: translate3d(0,0,0) scale(0.98); }

/* Ratio wrapper that guarantees height (prevents missing thumbs) */
.thumb-ratio {
  position: relative;
  width: 100%;
  overflow: hidden;
}
.thumb-169 { aspect-ratio: 16 / 9; }
.thumb-square { aspect-ratio: 1 / 1; }

/* Media inside ratio box */
.thumb-media {
  position: absolute; inset: 0;
  width: 100%; height: 100%;
  object-fit: cover; object-position: center;
  transition: opacity 150ms ease;
}

/* Shimmer skeleton */
.thumb-skeleton {
  position: absolute; inset: 0;
  background:
    linear-gradient(90deg,
      rgba(255,255,255,0.05) 0%,
      rgba(255,255,255,0.10) 50%,
      rgba(255,255,255,0.05) 100%);
  background-size: 200% 100%;
  animation: thumb-scan 1.2s linear infinite;
}
@keyframes thumb-scan {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Soft brand edge glows (keep separation) */
.thumbnail.glow-pink {
  box-shadow:
    0 2px 10px rgba(0,0,0,0.45),
    0 0 0 1px rgba(255,255,255,0.04) inset,
    0 0 10px rgba(236,72,153,0.35),
    0 0 24px rgba(236,72,153,0.25);
}
.thumbnail.glow-blue {
  box-shadow:
    0 2px 10px rgba(0,0,0,0.45),
    0 0 0 1px rgba(255,255,255,0.04) inset,
    0 0 10px rgba(59,130,246,0.35),
    0 0 24px rgba(59,130,246,0.25);
}
.thumbnail.glow-red {
  box-shadow:
    0 2px 10px rgba(0,0,0,0.45),
    0 0 0 1px rgba(255,255,255,0.04) inset,
    0 0 10px rgba(239,68,68,0.45),
    0 0 24px rgba(239,68,68,0.35);
}

/* Title strip */
.thumb-title {
  @apply absolute inset-x-0 bottom-0 p-2
         bg-gradient-to-t from-black/80 to-transparent
         text-sm font-semibold;
}

/* Channel badge ring */
.channel-badge {
  @apply absolute top-2 left-2 z-10 rounded-full p-[2px];
  background: rgba(255,255,255,0.08);
  box-shadow: 0 0 0 1px rgba(255,255,255,0.18) inset;
}

/* ===== Featured Hero ===== */
.hero-tight { margin-top: 0 !important; }
.featured-hero {
  @apply relative w-full overflow-hidden rounded-2xl;
  min-height: 48vh;
  outline: 1px solid rgba(255,255,255,0.08);
  box-shadow:
    0 20px 40px rgba(0,0,0,0.45),
    0 0 0 1px rgba(255,255,255,0.04) inset;
}
.featured-hero img,
.featured-hero video { @apply w-full h-full object-cover; }
.featured-glow-pink {
  box-shadow:
    0 20px 40px rgba(0,0,0,0.45),
    0 0 0 1px rgba(255,255,255,0.04) inset,
    0 0 16px rgba(236,72,153,0.35),
    0 0 36px rgba(236,72,153,0.25);
}
.featured-glow-blue {
  box-shadow:
    0 20px 40px rgba(0,0,0,0.45),
    0 0 0 1px rgba(255,255,255,0.04) inset,
    0 0 16px rgba(59,130,246,0.35),
    0 0 36px rgba(59,130,246,0.25);
}

/* ===== Creator page niceties ===== */
.creator-banner { position: relative; height: 220px; }
.creator-avatar {
  box-shadow:
    0 0 8px rgba(236,72,153,0.35),
    0 0 16px rgba(59,130,246,0.25);
}
