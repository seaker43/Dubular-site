@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Layout variables ===== */
:root{
  --header-h: 5rem;   /* 80px header */
  --navbar-h: 4rem;   /* 64px bottom bar */
  --favs-h: 6rem;     /* space for a fixed favorites strip if present */
}

/* ===== Base ===== */
html, body { @apply bg-black text-white antialiased; }
body { @apply min-h-screen overflow-x-hidden; }
#__next { @apply min-h-screen flex flex-col; }

/* ===== Header (fixed) ===== */
header{
  position: fixed; inset: 0 0 auto 0; z-index: 50;
  height: var(--header-h);
  @apply bg-black/95 backdrop-blur flex items-center justify-center;
  border-bottom: none;
}

/* ===== Main spacing =====
   Always pad below header + bottom bar so you can scroll to the bottom. */
main{
  padding-top: var(--header-h);
  padding-bottom: calc(var(--navbar-h) + 1rem);
}

/* If the page ALSO has a fixed favorites strip above the bottom bar,
   add class 'has-favs' on a parent (e.g., <body> or a wrapper) to increase padding. */
.has-favs main{
  padding-bottom: calc(var(--navbar-h) + var(--favs-h));
}

/* ===== Bottom bar (fixed) ===== */
.navbar{
  position: fixed; left: 0; right: 0; bottom: 0; z-index: 50;
  height: var(--navbar-h);
  @apply w-full flex justify-around items-center bg-neutral-950/95 backdrop-blur;
}

/* ===== Favorites strip (fixed optional) =====
   If you render a fixed favorites row, keep it above the bottom bar and account for it via .has-favs main padding. */
.favs-strip{
  position: fixed; left: 0; right: 0;
  bottom: calc(var(--navbar-h) + 0.5rem);
  z-index: 49;
  @apply px-4;
}

/* ===== Rails & thumbnails (unchanged) ===== */
.no-scrollbar::-webkit-scrollbar{ display:none; }
.no-scrollbar{ -ms-overflow-style:none; scrollbar-width:none; }

.thumb-row{
  @apply relative flex gap-4 overflow-x-auto py-2;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-x: contain;
}

.thumb-card{
  @apply relative flex-shrink-0 rounded-2xl bg-neutral-900/50 ring-1 ring-white/5;
  width: clamp(240px, 76vw, 320px);
  height: clamp(140px, 40vw, 190px);
  scroll-snap-align: center;
  backface-visibility: hidden;
  transform: translateZ(0);
  transition: transform 160ms ease, box-shadow 160ms ease;
}

.thumb-img{ @apply w-full h-full object-cover rounded-2xl block; }
