(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[559],{4527:(e,a,n)=>{"use strict";n.d(a,{default:()=>i});var s=n(5155),t=n(2115),l=n(9625);function i(){let[e,a]=(0,t.useState)(1),[n,i]=(0,t.useState)(""),[o,r]=(0,t.useState)(""),[u,c]=(0,t.useState)("IRL"),[d,h]=(0,t.useState)("en"),[p,x]=(0,t.useState)(null),[m,g]=(0,t.useState)(!1),v=async()=>{let e=(0,l.A)(o);if(!(0,l.n)(e))return void x("Handle must be 3â€“20 chars: a-z, 0-9, _");g(!0),x(null);let s=await fetch("/api/channel.upsert",{method:"POST",headers:{"content-type":"application/json","x-user-id":"demo-user-1"},body:JSON.stringify({title:n,handle:e,category:u,language:d})});s.ok?(a(3),x("Saved!")):x(await s.text()),g(!1)};return(0,s.jsxs)("div",{className:"max-w-xl mx-auto p-4 text-white",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Creator Onboarding"}),1===e&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("input",{className:"w-full rounded bg-neutral-900 p-3",value:n,onChange:e=>i(e.target.value),placeholder:"Channel title"}),(0,s.jsx)("input",{className:"w-full rounded bg-neutral-900 p-3",value:o,onChange:e=>r(e.target.value),placeholder:"Channel handle"}),(0,s.jsxs)("select",{className:"w-full rounded bg-neutral-900 p-3",value:u,onChange:e=>c(e.target.value),children:[(0,s.jsx)("option",{children:"IRL"}),(0,s.jsx)("option",{children:"Gaming"}),(0,s.jsx)("option",{children:"Music"}),(0,s.jsx)("option",{children:"Sports"})]}),(0,s.jsxs)("select",{className:"w-full rounded bg-neutral-900 p-3",value:d,onChange:e=>h(e.target.value),children:[(0,s.jsx)("option",{value:"en",children:"English"}),(0,s.jsx)("option",{value:"es",children:"Spanish"})]}),(0,s.jsx)("button",{onClick:v,disabled:m,className:"rounded-2xl px-4 py-2 bg-cyan-600 hover:bg-cyan-500 disabled:opacity-50",children:m?"Saving...":"Save & Continue"}),p&&(0,s.jsx)("p",{className:"text-sm opacity-80",children:p})]}),3===e&&(0,s.jsxs)("p",{className:"mt-4",children:["Done! Visit your channel at"," ",(0,s.jsxs)("span",{className:"font-mono",children:["/@",o]})]})]})}},7870:(e,a,n)=>{Promise.resolve().then(n.bind(n,4527))},9625:(e,a,n)=>{"use strict";n.d(a,{A:()=>s,n:()=>t});let s=e=>e.toLowerCase().replace(/[^a-z0-9_]/g,"").slice(0,20),t=e=>/^[a-z0-9_]{3,20}$/.test(e)}},e=>{e.O(0,[441,255,358],()=>e(e.s=7870)),_N_E=e.O()}]);