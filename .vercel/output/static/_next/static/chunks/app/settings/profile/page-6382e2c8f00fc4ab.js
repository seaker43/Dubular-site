(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[412],{2866:(e,a,t)=>{Promise.resolve().then(t.bind(t,4559))},4559:(e,a,t)=>{"use strict";t.d(a,{default:()=>c});var l=t(5155),s=t(2115),n=t(9625);function c(){let[e,a]=(0,s.useState)(""),[t,c]=(0,s.useState)(""),[i,r]=(0,s.useState)(""),[u,o]=(0,s.useState)(!1),[d,m]=(0,s.useState)(null),b=async()=>{let a=(0,n.A)(t);if(!(0,n.n)(a))return void m("Handle must be 3â€“20 chars: a-z, 0-9, _");o(!0),m(null);let l=await fetch("/api/profile.upsert",{method:"POST",headers:{"content-type":"application/json","x-user-id":"demo-user-1"},body:JSON.stringify({displayName:e,handle:a,bio:i})});l.ok?m("Saved!"):m(await l.text()),o(!1)};return(0,l.jsxs)("div",{className:"max-w-xl mx-auto p-4 text-white",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Profile"}),(0,l.jsx)("label",{className:"block mb-2 text-sm opacity-80",children:"Display name"}),(0,l.jsx)("input",{className:"w-full rounded bg-neutral-900 p-3 mb-4",value:e,onChange:e=>a(e.target.value)}),(0,l.jsx)("label",{className:"block mb-2 text-sm opacity-80",children:"Handle"}),(0,l.jsx)("input",{className:"w-full rounded bg-neutral-900 p-3 mb-4",value:t,onChange:e=>c(e.target.value),placeholder:"your_handle"}),(0,l.jsx)("label",{className:"block mb-2 text-sm opacity-80",children:"Bio"}),(0,l.jsx)("textarea",{className:"w-full rounded bg-neutral-900 p-3 mb-4",rows:4,value:i,onChange:e=>r(e.target.value)}),(0,l.jsx)("button",{onClick:b,disabled:u,className:"rounded-2xl px-4 py-2 bg-cyan-600 hover:bg-cyan-500 disabled:opacity-50",children:u?"Saving...":"Save"}),d&&(0,l.jsx)("p",{className:"mt-3 text-sm opacity-80",children:d})]})}},9625:(e,a,t)=>{"use strict";t.d(a,{A:()=>l,n:()=>s});let l=e=>e.toLowerCase().replace(/[^a-z0-9_]/g,"").slice(0,20),s=e=>/^[a-z0-9_]{3,20}$/.test(e)}},e=>{e.O(0,[441,255,358],()=>e(e.s=2866)),_N_E=e.O()}]);