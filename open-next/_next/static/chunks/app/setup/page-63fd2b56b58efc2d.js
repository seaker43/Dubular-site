(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{63:(e,t,a)=>{"use strict";var s=a(7260);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSelectedLayoutSegments")&&a.d(t,{useSelectedLayoutSegments:function(){return s.useSelectedLayoutSegments}})},5920:(e,t,a)=>{Promise.resolve().then(a.bind(a,6976))},6976:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i,runtime:()=>n});var s=a(5155),r=a(2115),l=a(63);let n="nodejs";function i(){let e=(0,l.useRouter)(),[t,a]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[c,o]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null);async function m(a){a.preventDefault(),d(null),o(!0);try{let a=await fetch("/api/profiles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({handle:t.trim(),display_name:n.trim()})});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error((null==e?void 0:e.error)||"Request failed (".concat(a.status,")"))}e.replace("/")}catch(e){d(e.message||"Something went wrong")}finally{o(!1)}}return(0,s.jsx)("main",{className:"page ))] w-full grid place-items-center px-4 )] stack",children:(0,s.jsx)("div",{className:"card w-full max-w-md p-6 max-h-viewport-gap overflow-y-auto",children:(0,s.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-6 shadow-[0_0_0_2px_rgba(255,255,255,0.06),_0_10px_40px_rgba(0,0,0,0.6)] backdrop-blur",children:[(0,s.jsx)("h1",{className:"text-2xl font-extrabold tracking-wide text-white mb-1 text-center",children:"Set up your Dubular profile"}),(0,s.jsx)("p",{className:"text-white/60 text-sm text-center mb-6",children:"Pick a public handle and a display name."}),(0,s.jsxs)("form",{className:"space-y-4",onSubmit:m,children:[(0,s.jsxs)("label",{className:"block",children:[(0,s.jsx)("span",{className:"block text-sm text-white/70 mb-1",children:"Handle"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-white/50",children:"@"}),(0,s.jsx)("input",{value:t,onChange:e=>a(e.target.value.replace(/[^a-z0-9_]/gi,"").toLowerCase()),minLength:3,maxLength:20,required:!0,placeholder:"yourname",className:"w-full rounded-xl bg-zinc-900/70 border border-white/10 px-3 py-2 text-white outline-none focus:border-white/30"})]}),(0,s.jsx)("p",{className:"text-[11px] text-white/40 mt-1",children:"a–z, 0–9, underscores; 3–20 chars"})]}),(0,s.jsxs)("label",{className:"block",children:[(0,s.jsx)("span",{className:"block text-sm text-white/70 mb-1",children:"Display name"}),(0,s.jsx)("input",{value:n,onChange:e=>i(e.target.value),minLength:1,maxLength:40,required:!0,placeholder:"Streamer Name",className:"w-full rounded-xl bg-zinc-900/70 border border-white/10 px-3 py-2 text-white outline-none focus:border-white/30"})]}),u&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:u}),(0,s.jsx)("button",{type:"submit",disabled:c,"aria-busy":c,className:"w-full rounded-xl bg-dubular-green/90 hover:bg-dubular-green text-black font-semibold py-2 transition disabled:opacity-60",children:c?"Saving…":"Save & Continue"})]})]})})})}}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=5920)),_N_E=e.O()}]);