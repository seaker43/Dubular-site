(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4662],{2802:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c,runtime:()=>i});var a=t(5155),n=t(2115);let i="nodejs";function c(){let[e,s]=(0,n.useState)(!1),[t,i]=(0,n.useState)(!0),[c,r]=(0,n.useState)(!1),[l,d]=(0,n.useState)("idle");async function h(){d("saving");try{let s=await fetch("/api/settings",{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify({dark:e,email:t,push:c})});if(401===s.status)return void d("unauth");d(s.ok?"saved":"error")}catch(e){d("error")}}return(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/settings",{credentials:"include"});if(401===e.status||!e.ok)return;let t=await e.json();s(!!t.dark),i(!!t.email),r(!!t.push)}catch(e){}})()},[]),(0,a.jsxs)("div",{className:"mx-auto max-w-3xl p-6 text-white",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold mb-6",children:"Settings"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-3",children:[(0,a.jsx)("input",{type:"checkbox",checked:e,onChange:e=>s(e.target.checked)}),(0,a.jsx)("span",{children:"Dark theme"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-3",children:[(0,a.jsx)("input",{type:"checkbox",checked:t,onChange:e=>i(e.target.checked)}),(0,a.jsx)("span",{children:"Email notifications"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-3",children:[(0,a.jsx)("input",{type:"checkbox",checked:c,onChange:e=>r(e.target.checked)}),(0,a.jsx)("span",{children:"Push notifications"})]}),(0,a.jsx)("button",{onClick:h,disabled:"saving"===l,className:"rounded-lg border px-4 py-2",children:"saving"===l?"Savingâ€¦":"Save"}),(0,a.jsxs)("div",{className:"text-sm mt-2 text-neutral-400",children:["saved"===l&&"Saved!","error"===l&&"Error saving settings.","unauth"===l&&(0,a.jsxs)(a.Fragment,{children:["Sign in required. ",(0,a.jsx)("a",{className:"underline",href:"/sign-in",children:"Sign in"})]})]})]})]})}},3766:(e,s,t)=>{Promise.resolve().then(t.bind(t,2802))}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=3766)),_N_E=e.O()}]);