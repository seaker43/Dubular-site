(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7559],{1714:(e,a,n)=>{"use strict";n.d(a,{default:()=>t});var s=n(5155),l=n(2115);function t(){let[e,a]=(0,l.useState)(1),[n,t]=(0,l.useState)(""),[i,o]=(0,l.useState)(""),[r,u]=(0,l.useState)("IRL"),[c,d]=(0,l.useState)("en"),[h,p]=(0,l.useState)(null),[x,m]=(0,l.useState)(!1),g=async()=>{let e=i.toLowerCase().replace(/[^a-z0-9_]/g,"").slice(0,20);if(!/^[a-z0-9_]{3,20}$/.test(e))return void p("Handle must be 3â€“20 chars: a-z, 0-9, _");m(!0),p(null);let s=await fetch("/api/channel.upsert",{method:"POST",headers:{"content-type":"application/json","x-user-id":"demo-user-1"},body:JSON.stringify({title:n,handle:e,category:r,language:c})});s.ok?(a(3),p("Saved!")):p(await s.text()),m(!1)};return(0,s.jsxs)("div",{className:"max-w-xl mx-auto p-4 text-white",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Creator Onboarding"}),1===e&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("input",{className:"w-full rounded bg-neutral-900 p-3",value:n,onChange:e=>t(e.target.value),placeholder:"Channel title"}),(0,s.jsx)("input",{className:"w-full rounded bg-neutral-900 p-3",value:i,onChange:e=>o(e.target.value),placeholder:"Channel handle"}),(0,s.jsxs)("select",{className:"w-full rounded bg-neutral-900 p-3",value:r,onChange:e=>u(e.target.value),children:[(0,s.jsx)("option",{children:"IRL"}),(0,s.jsx)("option",{children:"Gaming"}),(0,s.jsx)("option",{children:"Music"}),(0,s.jsx)("option",{children:"Sports"})]}),(0,s.jsxs)("select",{className:"w-full rounded bg-neutral-900 p-3",value:c,onChange:e=>d(e.target.value),children:[(0,s.jsx)("option",{value:"en",children:"English"}),(0,s.jsx)("option",{value:"es",children:"Spanish"})]}),(0,s.jsx)("button",{onClick:g,disabled:x,className:"rounded-2xl px-4 py-2 bg-cyan-600 hover:bg-cyan-500 disabled:opacity-50",children:x?"Saving...":"Save & Continue"}),h&&(0,s.jsx)("p",{className:"text-sm opacity-80",children:h})]}),3===e&&(0,s.jsxs)("p",{className:"mt-4",children:["Done! Visit your channel at"," ",(0,s.jsxs)("span",{className:"font-mono",children:["/@",i]})]})]})}},7870:(e,a,n)=>{Promise.resolve().then(n.bind(n,1714))}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=7870)),_N_E=e.O()}]);